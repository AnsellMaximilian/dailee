(this["webpackJsonpdailee-app"]=this["webpackJsonpdailee-app"]||[]).push([[0],{104:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),s=a.n(i),c=(a(104),a(76)),o=a(13),l=a(55),d=a(16),u=a(177),j=a(149),b=a(178),m=a(154),O=a(68);a(119),a(106);O.a.initializeApp({apiKey:"AIzaSyBkrMYcTX_d_K8SF-bFjpSFWNRTx6-jAcc",authDomain:"dailee-f3d58.firebaseapp.com",projectId:"dailee-f3d58",storageBucket:"dailee-f3d58.appspot.com",messagingSenderId:"903265997201",appId:"1:903265997201:web:ea526b1fb4f9c122608a30"});var h=O.a.firestore(),p=O.a.auth(),x=a(3);function f(e){var t=e.setMessage,a=Object(n.useState)(""),r=Object(o.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(""),l=Object(o.a)(c,2),d=l[0],u=l[1],O=function(e){"email"===e.target.name?s(e.target.value):"password"===e.target.name&&u(e.target.value)};return Object(x.jsx)(j.a,{maxWidth:"xs",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.createUserWithEmailAndPassword(i,d).then((function(){return t({type:"success",content:"Success"})})).catch((function(e){return t({type:"error",content:e.message})}))},children:[Object(x.jsx)(b.a,{required:!0,fullWidth:!0,type:"email",margin:"normal",variant:"outlined",label:"Email",name:"email",value:i,onChange:O}),Object(x.jsx)(b.a,{required:!0,fullWidth:!0,type:"password",margin:"normal",variant:"outlined",label:"Password",name:"password",value:d,onChange:O}),Object(x.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Sign Up"})]})})}function v(e){var t=e.setMessage,a=Object(n.useState)(""),r=Object(o.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(""),l=Object(o.a)(c,2),d=l[0],u=l[1],O=function(e){"email"===e.target.name?s(e.target.value):"password"===e.target.name&&u(e.target.value)};return Object(x.jsx)(j.a,{maxWidth:"xs",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p.signInWithEmailAndPassword(i,d).then((function(){return t({type:"success",content:"Success"})})).catch((function(e){return t({type:"error",content:e.message})}))},children:[Object(x.jsx)(b.a,{required:!0,fullWidth:!0,type:"email",margin:"normal",variant:"outlined",label:"Email",name:"email",value:i,onChange:O}),Object(x.jsx)(b.a,{required:!0,fullWidth:!0,type:"password",margin:"normal",variant:"outlined",label:"Password",name:"password",value:d,onChange:O}),Object(x.jsx)(m.a,{fullWidth:!0,variant:"contained",color:"primary",type:"submit",children:"Sign In"})]})})}var g=a(155),k=a(44),C=a(156),S=a(182),T=a(157),y=a(181),w=a(159),W=Object(g.a)((function(e){return{toggleButton:{backgroundColor:e.palette.grey[50],borderRadius:0},formContainer:{margin:e.spacing(2,"auto")},formMode:{display:"flex",justifyContent:"start",flexDirection:"row"}}}));function N(e){var t=e.user,a=W(),r=Object(n.useState)(""),i=Object(o.a)(r,2),s=i[0],c=i[1],l=Object(n.useState)(""),d=Object(o.a)(l,2),u=d[0],O=d[1],p=Object(n.useState)(""),f=Object(o.a)(p,2),v=f[0],g=f[1],N=Object(n.useState)(!1),R=Object(o.a)(N,2),D=R[0],F=R[1],I=Object(n.useState)("tasks"),U=Object(o.a)(I,2),P=U[0],A=U[1],B=function(e){var t=e.target.value;"title"===e.target.name?c(t):"description"===e.target.name?O(t):"time-frame"===e.target.name&&g(t)};return Object(x.jsxs)("div",{children:[Object(x.jsx)(m.a,{fullWidth:!0,variant:"contained",onClick:function(){return F((function(e){return!e}))},className:a.toggleButton,children:Object(x.jsx)(k.a,{children:"Create Task"})}),Object(x.jsx)(C.a,{in:D,children:Object(x.jsxs)(j.a,{maxWidth:"xs",className:a.formContainer,children:[Object(x.jsxs)(S.a,{"aria-label":"formMode",name:"form-mode",value:P,onChange:function(e){var t="reserveTasks"===e.target.value?"reserveTasks":"tasks";A(t)},className:a.formMode,children:[Object(x.jsx)(T.a,{value:"tasks",control:Object(x.jsx)(y.a,{}),label:"Tasks"}),Object(x.jsx)(T.a,{value:"reserveTasks",control:Object(x.jsx)(y.a,{}),label:"Reserve Tasks"})]}),Object(x.jsx)("form",{onSubmit:function(e){e.preventDefault();var a={user:t.uid,title:s,description:u,timeFrame:v};h.collection(P).add(a).then().catch(),c(""),O(""),g("")},children:Object(x.jsxs)(w.a,{container:!0,spacing:1,children:[Object(x.jsx)(w.a,{item:!0,xs:8,children:Object(x.jsx)(b.a,{required:!0,fullWidth:!0,variant:"outlined",type:"text",name:"title",label:"Task Title",onChange:B,value:s})}),Object(x.jsx)(w.a,{item:!0,xs:4,children:Object(x.jsx)(b.a,{fullWidth:!0,variant:"outlined",type:"time",name:"time-frame",onChange:B,value:v})}),Object(x.jsx)(w.a,{item:!0,xs:12,children:Object(x.jsx)(b.a,{fullWidth:!0,variant:"outlined",multiline:!0,name:"description",placeholder:"Task Description",onChange:B,value:u})}),Object(x.jsx)(w.a,{item:!0,xs:12,children:Object(x.jsx)(m.a,{fullWidth:!0,type:"submit",variant:"contained",color:"primary",children:"Add"})})]})})]})})]})}var R=a(153),D=a(183),F=a(160),I=a(161);function U(e){var t=e.open,a=e.task,r=e.handleClose,i=e.saveChange,s=Object(n.useState)(a.title),c=Object(o.a)(s,2),l=c[0],d=c[1],u=Object(n.useState)(a.description),j=Object(o.a)(u,2),O=j[0],h=j[1],p=Object(n.useState)(a.timeFrame),f=Object(o.a)(p,2),v=f[0],g=f[1],k=function(e){var t=e.target.value;"title"===e.target.name?d(t):"description"===e.target.name?h(t):"time-frame"===e.target.name&&g(t)};return Object(x.jsxs)(D.a,{open:t,onClose:r,children:[Object(x.jsx)(F.a,{children:"Edit Task"}),Object(x.jsx)(I.a,{children:Object(x.jsx)("div",{children:Object(x.jsxs)(w.a,{container:!0,spacing:1,children:[Object(x.jsx)(w.a,{item:!0,xs:8,children:Object(x.jsx)(b.a,{required:!0,fullWidth:!0,variant:"outlined",type:"text",name:"title",label:"Task Title",onChange:k,value:l})}),Object(x.jsx)(w.a,{item:!0,xs:4,children:Object(x.jsx)(b.a,{fullWidth:!0,variant:"outlined",type:"time",name:"time-frame",onChange:k,value:v})}),Object(x.jsx)(w.a,{item:!0,xs:12,children:Object(x.jsx)(b.a,{fullWidth:!0,variant:"outlined",multiline:!0,name:"description",placeholder:"Task Description",onChange:k,value:O})}),Object(x.jsx)(w.a,{item:!0,xs:12,children:Object(x.jsx)(m.a,{fullWidth:!0,type:"submit",color:"primary",onClick:function(){i({id:a.id,user:a.user,title:l,description:O,timeFrame:v})},children:"Save Changes"})})]})})})]})}var P=a(164),A=a(165),B=a(166),E=a(167),M=a(158),q=a(179),L=a(168),z=a(162),X=a(163),H=Object(g.a)((function(e){return{checkBox:{position:"relative"},checked:{position:"absolute",top:"50%",right:"50%",transform:"translate(50%, -50%)"}}}));function G(e){var t=e.checked,a=e.completeTask,n=H();return Object(x.jsxs)(M.a,{className:n.checkBox,onClick:a,children:[Object(x.jsx)(z.a,{color:"primary"}),t&&Object(x.jsx)(X.a,{color:"primary",className:n.checked,fontSize:"small"})]})}var J=Object(g.a)((function(e){return{taskItem:{transition:"transform 0.5s","&:hover":{backgroundColor:e.palette.action.hover}},deleted:{transform:"translateX(200%)",position:"relative"},detail:{whiteSpace:"pre-line",textAlign:"left",padding:e.spacing(0,4),borderRadius:e.shape.borderRadius,border:"1.5px solid ".concat(e.palette.divider)}}}));function K(e){var t=e.task,a=e.isOpen,r=e.setOpenTask,i=e.setOpenTaskDetail,s=J(),c=Object(n.useState)(!1),l=Object(o.a)(c,2),d=l[0],u=l[1];return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(P.a,{button:!0,className:"".concat(s.taskItem," ").concat(d&&s.deleted),onClick:function(){r(a?"":t.id)},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(G,{checked:d,completeTask:function(e){e.stopPropagation(),u(!0),new Promise((function(e,t){setTimeout((function(){return e()}),500)})).then((function(){h.collection("tasks").doc(t.id).delete()}))}})}),Object(x.jsx)(B.a,{primary:t.title}),Object(x.jsx)(E.a,{children:Object(x.jsx)(M.a,{onClick:function(){return i(t.id)},children:Object(x.jsx)(L.a,{color:"primary"})})})]}),Object(x.jsx)(C.a,{in:a,children:Object(x.jsx)(q.a,{className:t.description&&s.detail,borderTop:0,children:Object(x.jsx)(k.a,{children:t.description})})})]})}function Y(e){var t=e.tasks,a=Object(n.useState)(""),r=Object(o.a)(a,2),i=r[0],s=r[1],c=Object(n.useState)(""),l=Object(o.a)(c,2),d=l[0],u=l[1],b=t.map((function(e){return Object(x.jsx)(K,{task:e,isOpen:i===e.id,setOpenTask:s,setOpenTaskDetail:u},e.id)}));return Object(x.jsxs)(j.a,{maxWidth:"sm",children:[Object(x.jsx)(R.a,{style:{overflowX:"hidden"},children:b}),!!d&&Object(x.jsx)(U,{task:t.filter((function(e){return e.id===d}))[0],open:!!d,handleClose:function(){return u("")},saveChange:function(e){h.collection("tasks").doc(e.id).update(e),u("")}})]})}var _=a(172),Q=a(173),V=a(58),Z=a(171),$=a(88),ee=Object($.a)({palette:{primary:{main:"#2a7fff"},secondary:{main:"#f44336"}}}),te=a(169),ae=a(170),ne=Object(g.a)((function(e){return{reserveTaskItem:{transition:"all 0.5s"},deleted:{transform:"translateX(-200%)",position:"relative"}}}));function re(e){var t=e.reserveTask,a=e.user,r=e.setOpenTaskDetail,i=ne(),s=Object(n.useState)(!1),c=Object(o.a)(s,2),l=c[0],d=c[1];return Object(x.jsxs)(P.a,{button:!0,className:"".concat(i.reserveTaskItem," ").concat(l&&i.deleted),onClick:function(){return r(t.id)},children:[Object(x.jsx)(A.a,{children:Object(x.jsx)(M.a,{color:"primary",onClick:function(e){e.stopPropagation(),h.collection("tasks").add({title:t.title,description:t.description,timeFrame:t.timeFrame,user:a.uid})},children:Object(x.jsx)(te.a,{})})}),Object(x.jsx)(B.a,{children:t.title}),Object(x.jsx)(E.a,{children:Object(x.jsx)(M.a,{style:{color:"red"},onClick:function(e){e.stopPropagation(),d(!0),setTimeout((function(){h.collection("reserveTasks").doc(t.id).delete()}),500)},children:Object(x.jsx)(ae.a,{})})})]})}var ie=Object(g.a)((function(e){return{header:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText,borderTopLeftRadius:e.shape.borderRadius,borderTopRightRadius:e.shape.borderRadius},container:Object(V.a)({backgroundColor:e.palette.grey[50],position:"fixed",bottom:50,maxHeight:"100vh",minHeight:150,boxShadow:e.shadows[3],padding:0,width:"85%",margin:"0 7.5%",maxWidth:e.breakpoints.values.sm,borderRadius:e.shape.borderRadius},e.breakpoints.up("sm"),{right:0})}}));function se(e){var t=e.reserveTasks,a=e.open,r=e.user,i=ie(),s=Object(n.useState)(""),c=Object(o.a)(s,2),l=c[0],d=c[1],u=t.map((function(e){return Object(x.jsx)(re,{reserveTask:e,user:r,setOpenTaskDetail:d},e.id)}));return Object(x.jsx)(Z.a,{direction:window.innerWidth>=ee.breakpoints.values.sm?"left":"up",in:a,mountOnEnter:!0,unmountOnExit:!0,children:Object(x.jsxs)(j.a,{className:i.container,children:[Object(x.jsx)(q.a,{p:1,className:i.header,children:Object(x.jsx)(k.a,{children:"Task Reserve"})}),t.length>0?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(R.a,{dense:!0,children:u}),!!l&&Object(x.jsx)(U,{task:t.filter((function(e){return e.id===l}))[0],open:!!l,handleClose:function(){return d("")},saveChange:function(e){h.collection("reserveTasks").doc(e.id).update(e),d("")}})]}):Object(x.jsx)(k.a,{children:"Get Yo Tasks"})]})})}var ce=Object(g.a)((function(e){return{taskReserveButton:{position:"fixed",bottom:15,right:15}}}));function oe(e){var t=e.tasks,a=e.reserveTasks,r=ce(),i=Object(n.useState)(!1),s=Object(o.a)(i,2),c=s[0],l=s[1];return Object(x.jsx)("div",{children:p.currentUser?Object(x.jsxs)("div",{children:[Object(x.jsx)(N,{user:p.currentUser}),Object(x.jsx)(Y,{tasks:t}),Object(x.jsx)(se,{reserveTasks:a,open:c,user:p.currentUser}),Object(x.jsx)(_.a,{color:"primary","aria-label":"add",title:"Task Reserve",className:r.taskReserveButton,onClick:function(){return l((function(e){return!e}))},children:Object(x.jsx)(Q.a,{})})]}):Object(x.jsx)("h2",{children:"Please Sign Up or Sign In"})})}var le=a(174),de=a(175),ue=a(176),je=Object(g.a)((function(e){return{link:{color:"inherit",cursor:"pointer",margin:e.spacing(0,1),textTransform:"uppercase"},activeLink:{color:"#DDD",textDecoration:"underline"},toolbar:{flexWrap:"wrap"},userInfo:{flexGrow:1,textAlign:"left"}}}));function be(){var e,t=je();return Object(x.jsx)(le.a,{position:"static",children:Object(x.jsxs)(de.a,{className:t.toolbar,children:[Object(x.jsx)(k.a,{className:t.userInfo,children:null===(e=p.currentUser)||void 0===e?void 0:e.email}),Object(x.jsx)("nav",{children:p.currentUser?Object(x.jsx)(ue.a,{color:"inherit",className:t.link,onClick:function(){return p.signOut()},children:"Sign Out"}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(l.b,{to:"/dailee/signup",className:t.link,activeClassName:t.activeLink,children:"Sign Up"}),Object(x.jsx)(l.b,{to:"/dailee/signin",className:t.link,activeClassName:t.activeLink,children:"Sign In"})]})})]})})}a(117);var me=a(184),Oe=Object(g.a)((function(e){return{message:{color:e.palette.grey[50],padding:e.spacing(1),borderRadius:e.shape.borderRadius},error:{backgroundColor:e.palette.error.main},info:{backgroundColor:e.palette.info.main},success:{backgroundColor:e.palette.success.main}}}));function he(e){var t=e.message,a=e.open,n=e.handleClose,r=Oe();if(t){var i;switch(t.type){case"error":i=r.error;break;case"success":i=r.success;break;case"info":default:i=r.info}return Object(x.jsx)(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:a,autoHideDuration:6e3,onClose:n,children:Object(x.jsx)(q.a,{className:"".concat(r.message," ").concat(i),children:t.content})})}return null}var pe=function(){var e=Object(n.useState)(p.currentUser),t=Object(o.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)([]),s=Object(o.a)(i,2),j=s[0],b=s[1],m=Object(n.useState)([]),O=Object(o.a)(m,2),g=O[0],k=O[1],C=Object(n.useState)(null),S=Object(o.a)(C,2),T=S[0],y=S[1];return Object(n.useEffect)((function(){p.onAuthStateChanged((function(e){r(e)}))}),[]),Object(n.useEffect)((function(){a&&(h.collection("tasks").where("user","==",a.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(c.a)({id:e.id,user:a.uid,title:"Unavailable",description:"Unavailable",timeFrame:"Unavailable"},e.data())}));b(t)})),h.collection("reserveTasks").where("user","==",a.uid).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(c.a)({id:e.id,user:a.uid,title:"Unavailable",description:"Unavailable",timeFrame:"Unavailable"},e.data())}));k(t)})))}),[a]),Object(x.jsx)(u.a,{theme:ee,children:Object(x.jsx)("div",{className:"App",children:Object(x.jsxs)(l.a,{children:[Object(x.jsx)(be,{}),Object(x.jsxs)(d.d,{children:[Object(x.jsx)(d.b,{exact:!0,path:"/dailee/",children:Object(x.jsx)(oe,{tasks:j,reserveTasks:g})}),Object(x.jsx)(d.b,{exact:!0,path:"/dailee/signup",children:a?Object(x.jsx)(d.a,{to:"/dailee/"}):Object(x.jsx)(f,{setMessage:y})}),Object(x.jsx)(d.b,{exact:!0,path:"/dailee/signin",children:a?Object(x.jsx)(d.a,{to:"/dailee/"}):Object(x.jsx)(v,{setMessage:y})})]}),Object(x.jsx)(he,{open:!!T,message:T,handleClose:function(){y(null)}})]})})})},xe=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,186)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),i(e),s(e)}))};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(pe,{})}),document.getElementById("root")),xe()}},[[118,1,2]]]);
//# sourceMappingURL=main.11bd1b0d.chunk.js.map